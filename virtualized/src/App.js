import React, { useMemo } from 'react';
import logo from './logo.svg';
import './App.css';
import { List } from 'react-virtualized/dist/commonjs/List';
import 'react-virtualized/styles.css';
import { CellMeasurerCache } from 'react-virtualized/dist/commonjs/CellMeasurer'
import { CellMeasurer } from 'react-virtualized/dist/commonjs/CellMeasurer';
import { AutoSizer } from 'react-virtualized/dist/commonjs/AutoSizer'
const dataSource = [
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111',
  '12',
  '123',
  '111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds111111111111111111111dsdsdsdsds',
  '111111111111'
  , 'xxx'
]

function App() {
  const cache = new CellMeasurerCache({
    fixedWidth: true,
    minHeight: 50
  });
  const rowRenderer = ({ index, key, parent, style }) => {
    console.log(style)
    return (
      <CellMeasurer
        cache={cache}
        columnIndex={0}
        key={key}
        rowIndex={index}
        parent={parent}>
        {({ registerChild }) => {
          return (<div ref={registerChild} className='abc' style={style}>
            <span>Title</span>
            <div>{dataSource[index]}</div>
          </div>)
        }}
      </CellMeasurer>
    )
  }
  return (
    <AutoSizer disableHeight>
      {({ width }) => (
        <List
          deferredMeasurementCache={cache}
          height={400}
          width={400}
          overscanRowCount={0}
          rowCount={dataSource.length}
          rowHeight={cache.rowHeight}
          rowRenderer={rowRenderer} />
      )}
    </AutoSizer>
  );
}

export default App;
